### 🧩 **۱. Variadic Functions (توابع با ورودی متغیر)**

✅ **تعریف:**
توابعی هستن که می‌تونن **تعداد نامشخصی از آرگومان‌ها** بگیرن.
یعنی لازم نیست بدونی دقیقاً چند تا ورودی داری.

🧠 **نحوه تعریف:**

```go
func sum(nums ...int) int {
  total := 0
  for _, n := range nums {
    total += n
  }
  return total
}
```

📦 فراخوانی:

```go
sum(1, 2, 3)
sum(10, 20)
```

✅ **کاربرد:**
وقتی تابع باید ورودی‌های زیادی از یک نوع بگیره (مثل `fmt.Println()` یا `sum()`).

---

### 🧠 **۲. Anonymous Functions (توابع بی‌نام)**

✅ **تعریف:**
توابعی هستن که **اسم ندارن** و معمولاً **درجا (inline)** تعریف و استفاده می‌شن.

🧠 **مثال:**

```go
func() {
  fmt.Println("Hello")
}()
```

یا در متغیر:

```go
greet := func(name string) {
  fmt.Println("Hi", name)
}
greet("Mohsen")
```

✅ **کاربرد:**

- برای توابع موقتی
- برای callback
- برای کار با goroutine یا event handlerها

🧩 مثال:

```go
go func() {
  fmt.Println("Running in goroutine")
}()
```

---

### 🧠 **۳. Closure Functions (توابع بسته / دربسته)**

✅ **تعریف:**
تابعی که به **متغیرهای بیرون از خودش** دسترسی داره حتی بعد از اجرای اون محدوده.

🧠 **مثال:**

```go
func counter() func() int {
  count := 0
  return func() int {
    count++
    return count
  }
}

next := counter()
fmt.Println(next()) // 1
fmt.Println(next()) // 2
```

✅ **کاربرد:**

- ساخت توابع حالت‌دار (stateful)
- نگهداری داده بین چند بار اجرا
- پیاده‌سازی data encapsulation (پنهان‌سازی داده)

🧩 خلاصه:

> Closure = تابعی که متغیرهای محیط بیرونش رو “به خاطر می‌سپاره”.

---

### 🧠 **۴. Defer Functions (توابع با اجرای تأخیری)**

✅ **تعریف:**
کلمه‌ی کلیدی `defer` باعث میشه **اجرای تابع تا پایان تابع فعلی به تأخیر بیفته**.

🧠 **مثال:**

```go
func main() {
  defer fmt.Println("World")
  fmt.Println("Hello")
}
```

📦 خروجی:

```
Hello
World
```

✅ **کاربرد:**

- برای **پاک‌سازی منابع** مثل بستن فایل یا کانکشن
- اجرای کارهایی که باید _در آخر_ انجام بشن (مثل finally در دیگر زبان‌ها)

🧠 مثال کاربردی:

```go
file, _ := os.Open("data.txt")
defer file.Close() // بسته شدن فایل در انتها
```

---

### 📘 **خلاصه‌ی سریع جدول‌وار**

| نوع تابع      | تعریف                          | کاربرد اصلی          | مثال                      |
| ------------- | ------------------------------ | -------------------- | ------------------------- |
| **Variadic**  | ورودی با تعداد نامشخص          | جمع یا چاپ چند مقدار | `fmt.Println(a, b, c...)` |
| **Anonymous** | تابع بدون نام                  | callback، goroutine  | `go func() { ... }()`     |
| **Closure**   | نگهداری state از محیط بیرونی   | شمارنده، حافظه داخلی | تابع `counter()`          |
| **Defer**     | اجرای تابع در انتهای تابع فعلی | پاک‌سازی منابع       | `defer file.Close()`      |
